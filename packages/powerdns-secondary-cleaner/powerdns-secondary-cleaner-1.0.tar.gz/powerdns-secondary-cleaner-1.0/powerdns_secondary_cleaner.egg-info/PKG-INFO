Metadata-Version: 2.1
Name: powerdns-secondary-cleaner
Version: 1.0
Summary: Use powerdns-secondary-cleaner to delete zones on secondary PowerDNS server that were deleted on primary PowerDNS server.
Home-page: https://github.com/CyberfusionIO/powerdns-secondary-cleaner
Author: William Edwards
Author-email: support@cyberfusion.nl
License: MIT
Keywords: cyberfusion,powerdns
Platform: linux
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.6
Description-Content-Type: text/markdown
License-File: LICENSE

# powerdns-secondary-cleaner

Use powerdns-secondary-cleaner to delete zones on secondary PowerDNS server that were deleted on primary PowerDNS server.

 The PowerDNS API is used for both the primary and secondary, so the program can run anywhere. Be it on the primary, secondary or elsewhere.

# Install

## Generic

Run the following command to create a source distribution:

    python3 setup.py sdist

## PyPI

Run the following command to install the package from PyPI:

    pip3 install powerdns-secondary-cleaner

# Configure

No configuration is supported.

# Usage

Syntax:

    powerdns-secondary-cleaner --primary-api-url=<primary-api-url> --primary-api-key=<primary-api-key> --secondary-api-url=<secondary-api-url> --secondary-api-key=<secondary-api-key> [--dry-run]

Example when running on primary:

    powerdns-secondary-cleaner --primary-api-url=http://localhost:8081 --primary-api-key=example --secondary-api-url=http://secondary.test:8081 --secondary-api-key=example

Example when running on secondary:

    powerdns-secondary-cleaner --secondary-api-url=http://primary.test:8081 --primary-api-key=example --primary-api-url=http://localhost:8081 --secondary-api-key=example

Only show which zones would be deleted on secondary:

    powerdns-secondary-cleaner ... --dry-run

# Tests

Run tests with pytest:

    pytest tests/


