(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(50043)}])},50043:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eN}});var i=n(85893),r=function(e){return Object.freeze({axiosInstance:e,getFile:function(t,n){return e.get("/files/".concat(t),n)},uploadFile:function(t,n){let i=t[n],r=new FormData;r.append("file",i);let l=e.post("/files",r,{headers:{accept:"application/json","Content-Type":"multipart/form-data"}});return l},startPrediction:function(t){return e.post("/predictions",t,{headers:{accept:"application/json","Content-Type":"application/json"}})},getPrediction:function(t){return e.get("/predictions/".concat(t))},cancelPrediction:function(t){return e.post("/predictions/".concat(t,"/cancel"))},getExamples:function(){return e.get("/examples")},addExample:function(t){return e.post("/predictions/".concat(t,"/save"))},deleteExample:function(t){return e.delete("examples/".concat(t))},getModelTree:function(t,n,i,r){let l="/projects/".concat(n,"/").concat(t,"/models/").concat(i,"/tree");return r&&(l+="?path=".concat(r)),e.get(l).catch(function(e){return[]})},getModelZipFile:function(t,n,i,r){let l="/projects/".concat(n,"/").concat(t,"/models/").concat(i,"/archive.zip");return e.get(l,r)}})},l=n(6154);let s=()=>{let e=l.Z.create({timeout:1e3});return e};var o=n(48473),a=n(5499),d=n(34282),c=n(99226),x=n(15861),p=n(83321),u=n(98456),h=n(67294),m=n(87536),f=n(88767),g=n(9473);let j=e=>{let{name:t,description:n,required:r,children:l,isDropzone:s=!1}=e;return(0,i.jsxs)(c.Z,{id:"".concat(n,"input"),children:[(0,i.jsxs)(c.Z,{sx:{display:"inline-block"},children:[(0,i.jsx)(c.Z,{children:(0,i.jsxs)(x.Z,{fontSize:"18px",sx:{display:"column"},children:[" ",t," ",r&&"*"," "]})}),(0,i.jsx)(x.Z,{color:"grey",variant:"mainTextMedium",sx:{mt:.5,display:"column"},children:n})]}),(0,i.jsx)(c.Z,{id:"input wrapper",sx:{mt:.5,backgroundColor:s?"":"#E9E9E9"},children:l})]})};var y=n(59653);let Z=e=>(0,i.jsx)(j,{name:e.name,description:e.description,required:e.required,isDropzone:!1,children:(0,i.jsx)(y.Z,{onChange:e.onChange,name:e.name,value:e.value,checked:!!e.value,size:"medium"})});var b=n(73397),v=n(67564),w=n(8523),C=n(41733),S=n(85215);n(76398);let T=e=>{let{options:t,title:n}=e,r=(0,h.useRef)(null),l=(0,h.useRef)(null),s=(e,t)=>{t.current=e};return(0,h.useEffect)(()=>{if(l.current){let e=l.current;e.autoplay(t.autoplay),e.src(t.sources)}else{var e;let n=document.createElement("video-js");n.classList.add("vjs-big-play-centered"),null===(e=r.current)||void 0===e||e.appendChild(n);let i=l.current=(0,S.Z)(n,t,()=>{S.Z.log("player is ready"),s&&s(i,l)})}},[t,r]),(0,h.useEffect)(()=>{let e=l.current;return()=>{e&&!e.isDisposed()&&(e.dispose(),l.current=null)}},[l]),(0,i.jsxs)(c.Z,{sx:{maxWidth:"90%"},children:[(0,i.jsx)(x.Z,{fontSize:"18px",fontWeight:"10px",children:n}),(0,i.jsx)(c.Z,{"data-vjs-player":!0,children:(0,i.jsx)("div",{ref:r,style:{}})})]})};var k=n(7297),E=n(50066),z=n(19602),L=n(14945);function R(){let e=(0,k.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  height: 100px;\n  width: 100%;\n  background: transparent;\n  gap: 2rem;\n"]);return R=function(){return e},e}function O(){let e=(0,k.Z)(["\n  width: 100%;\n  height: 90px;\n"]);return O=function(){return e},e}function _(){let e=(0,k.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 60px;\n  height: 60px;\n  background: #E9E9E9;\n  border: 1px black;\n  outline: none;\n  cursor: pointer;\n  padding-bottom: 3px;\n  &:hover {\n    background: #ddd;\n  }\n"]);return _=function(){return e},e}let D=E.ZP.div(R()),F=E.ZP.div(O());E.ZP.button(_());var I=function(e){let{url:t,title:r,audioId:l}=e,[s,o]=(0,h.useState)(!1),[a,d]=(0,h.useState)(),u=!0;(0,h.useEffect)(()=>{if(u){let e=async()=>{let e=document.getElementById("waveform".concat(l)),i=(await n.e(33).then(n.t.bind(n,21796,23))).default,r=i.create({barWidth:3,barRadius:3,barGap:2,barMinHeight:1,cursorWidth:1,container:e,backend:"WebAudio",height:80,progressColor:"#black",responsive:!0,waveColor:"#C4C4C4",cursorColor:"transparent"});d(r),r.load(t),r.on("finish",()=>{o(!1)})};e(),u=!1}},[]);let m=e=>{o(!s),e&&e.playPause()};return(0,i.jsxs)(c.Z,{sx:{maxWidth:"90%"},children:[(0,i.jsx)(x.Z,{fontSize:"18px",fontWeight:"10px",sx:{marginBottom:"-20px"},children:r}),(0,i.jsx)(c.Z,{style:{padding:"0px",margin:"0px"},children:(0,i.jsxs)(D,{style:{padding:"0px",margin:"0px",height:"90px"},children:[(0,i.jsx)(p.Z,{sx:{border:"none",borderRadius:"3px",width:"120px"},variant:"contained",startIcon:s?(0,i.jsx)(L.Z,{}):(0,i.jsx)(z.Z,{}),onClick:e=>m(a),children:s?"Pause":"Play"}),(0,i.jsx)(F,{id:"waveform".concat(l),style:{padding:"0px",margin:"0px",height:"80px"}}),"  ",(0,i.jsx)("audio",{id:"track".concat(l),src:t,style:{padding:"0px",margin:"0px"}})]})})]})};let W=e=>{if("object"==typeof e){let t=new Blob([e],{type:e.type});return URL.createObjectURL(t)}if("string"==typeof e)return e};var M=function(e){let{name:t,value:n,onChange:r,description:l,required:s,errors:o}=e,a=n.name,d=(0,h.useCallback)(e=>{e.length>0&&r({target:{files:e}})},[]),{getRootProps:u,getInputProps:m}=(0,w.uI)({onDrop:d}),f=o&&t in o,g="";f&&"required"===o[t].type&&(g="Required");let y=e=>{e.stopPropagation(),r({target:{files:[]}})};return(0,i.jsxs)(j,{name:t,description:l,required:s,isDropzone:!0,children:[n&&(e=>{if(e.type.includes("video")){let t={autoplay:!1,controls:!0,responsive:!0,fluid:!0,sources:[{src:URL.createObjectURL(e),type:"video/mp4"}]};return(0,i.jsx)(T,{options:t,title:e.name})}if(e.type.includes("image")){let t=W(e);return(0,i.jsx)(c.Z,{component:"img",sx:{height:"100px",width:"100%",objectFit:"contain",objectPosition:"0 0",mb:1},alt:a,src:t})}if(e.type.includes("audio")){let t=URL.createObjectURL(e);return(0,i.jsx)(I,{url:t,title:e.name,audioId:e.name})}})(n),a&&(0,i.jsx)(c.Z,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap",mb:.5},children:(0,i.jsx)(x.Z,{variant:"mainTextMedium",children:a})}),(0,i.jsx)(c.Z,{sx:{borderStyle:"dashed",borderColor:"#d3d3d3",backgroundColor:"#E9E9E9",height:"60px",display:"grid"},children:(0,i.jsxs)(c.Z,{component:"div",id:"inputfield",sx:{backgroundColor:"#E9E9E9",height:"53px",display:"grid"},...u(),children:[(0,i.jsx)("input",{...m(),onChange:r,id:"inputDropzone",style:{display:"inline",opacity:"0",width:"100%",height:"100%",gridColumn:1,gridRow:1}}),(0,i.jsxs)(c.Z,{sx:{display:"inline",alignItems:"center",flexWrap:"wrap",ml:0,gridColumn:1,gridRow:1,marginTop:"0px",marginBottom:"5px",padding:"6px"},children:[(0,i.jsx)(v.Z,{children:(0,i.jsx)(b.Z,{sx:{width:"100%",mx:"4px"}})}),(0,i.jsx)(x.Z,{variant:"mainTextMedium",color:"grey",sx:{ml:1,py:1,width:"77%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",height:"100%",paddingLeft:"5px"},children:"Drag a file or click to select"}),a?(0,i.jsx)(p.Z,{onClick:e=>y(e),sx:{display:"inline",fontSize:"0px",float:"right"},children:(0,i.jsx)(C.Z,{sx:{}})}):(0,i.jsx)(i.Fragment,{})]})]})}),f&&(0,i.jsx)(x.Z,{color:"red",variant:"mainTextMedium",sx:{mt:.6},children:g})]})},P=n(62474);let B=e=>{let{name:t,value:n,onChange:r,description:l,required:s,errors:o,integer:a,minimum:d,maximum:c}=e,p=o&&t in o,u="";p&&"required"===o[t].type&&(u="Required");let h=(0,i.jsx)(P.Z,{fullWidth:!0,type:"number",inputProps:{step:a?1:.01,min:d,max:c},size:"medium",value:n,onChange:r,error:p});return(0,i.jsxs)(j,{name:t,description:l,required:s,isDropzone:!1,children:[h,p&&(0,i.jsx)(x.Z,{color:"red",variant:"mainTextMedium",sx:{mt:.6},children:u})]})};var q=n(76547),Q=n(23599);let U=e=>(0,i.jsx)(j,{name:e.name,description:e.description,required:e.required,isDropzone:!1,children:(0,i.jsx)(q.Z,{size:"medium",sx:{width:"100%"},value:e.value,onChange:e.onChange,children:e.options.map((e,t)=>(0,i.jsx)(Q.Z,{value:e,children:e},t))})}),A=e=>{let{name:t,value:n,onChange:r,description:l,required:s,errors:o}=e,a=t in o,d="";return a&&"required"===o[t].type&&(d="Required"),(0,i.jsxs)(j,{name:t,description:l,required:s,isDropzone:!1,children:[(0,i.jsx)(P.Z,{fullWidth:!0,size:"medium",name:t,value:n,onChange:r,error:a}),a?(0,i.jsx)(x.Z,{color:"red",variant:"mainTextMedium",sx:{mt:.6},children:d}):(0,i.jsx)(i.Fragment,{})]})};var N=n(32933),H=n(42293),J=n(40044),G=n(11703),X=function(e){let{menuOption:t,setMenuOption:n,tabs:r}=e,l=(e,t)=>{n(t)};return(0,i.jsx)("div",{children:(0,i.jsx)(H.Z,{position:"static",color:"transparent",sx:{border:0,boxShadow:"none",width:"".concat(r.length/4*100,"%"),minWidth:"100px"},children:(0,i.jsx)(G.Z,{value:t,onChange:l,indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"action tabs example",children:r.map((e,t)=>(0,i.jsx)(J.Z,{label:e,id:"action-tab-".concat(0),"aria-controls":"action-tabpanel-".concat(0)},t))})})})};let V=(e,t,n,r,l,s,o)=>{var a,d,c,x,p,u,h;let f=!!(null!==r&&r.includes(e)),g=null!==(a=t.choices)&&void 0!==a?a:[""],j=null!==(d=t.description)&&void 0!==d?d:"",y=null!==(c=t.default)&&void 0!==c?c:"",b={key:e,name:e,control:s,defaultValue:y,rules:{required:f}},v={name:e,description:j,required:f,options:g,errors:o};n?l.push((0,i.jsx)(m.Qr,{...b,defaultValue:y,render:e=>{let{field:{onChange:t,value:n}}=e;return(0,i.jsx)(M,{...v,value:n,onChange:e=>{var n,i,r;if((null===(n=e.target)||void 0===n?void 0:null===(i=n.files)||void 0===i?void 0:i.length)==0){let e=document.getElementById("inputDropzone");e&&(e.value="")}t(null===(r=e.target)||void 0===r?void 0:r.files[0])}})}})):g&&["string","integer","number"].includes(t.type)?l.push((0,i.jsx)(m.Qr,{...b,render:e=>{let{field:{onChange:t,value:n}}=e;return(0,i.jsx)(U,{...v,value:n,onChange:t})}})):"string"===t.type?l.push((0,i.jsx)(m.Qr,{...b,render:e=>{let{field:{onChange:t,value:n}}=e;return(0,i.jsx)(A,{...v,value:n,onChange:t})}})):"boolean"===t.type?l.push((0,i.jsx)(m.Qr,{...b,render:e=>{let{field:{onChange:t,value:n}}=e;return(0,i.jsx)(Z,{...v,value:n,onChange:t})}})):"integer"===t.type?l.push((0,i.jsx)(m.Qr,{...b,render:e=>{let{field:{onChange:n,value:r}}=e;return(0,i.jsx)(B,{...v,value:r,onChange:e=>{n(parseFloat(e.target.value))},integer:!0,minimum:null!==(x=t.minimum)&&void 0!==x?x:null,maximum:null!==(p=t.maximum)&&void 0!==p?p:null})}})):"number"===t.type&&l.push((0,i.jsx)(m.Qr,{...b,render:e=>{let{field:{onChange:n,value:r}}=e;return(0,i.jsx)(B,{...v,value:r,onChange:e=>{n(parseFloat(e.target.value))},integer:!1,minimum:null!==(u=t.minimum)&&void 0!==u?u:null,maximum:null!==(h=t.maximum)&&void 0!==h?h:null})}}))},Y=(e,t,n,i)=>{let r=[];if(e.input_schema){let l=e.input_schema.required;for(let s in e.input_schema.properties){let o=s in e.input_filetypes;if(l.includes(s)||i){let i=e.input_schema.properties[s];V(s,i,o,l,r,t,n)}}}return r};var K=function(e){let{model:t,doQuery:n,setDoQuery:l}=e,[j,y]=(0,h.useState)(""),[Z,b]=(0,h.useState)(!1),v=(0,g.I0)(),w=s(),C=r(w),S=(0,g.v9)(e=>e.singleModel.example),T=S.input,{control:k,handleSubmit:E,reset:z,setValue:L,formState:{errors:R}}=(0,m.cI)(),O=Y(t,k,R,Z);(0,h.useEffect)(()=>{for(let e in T)L(e,T[e])},[]);let _=[(0,i.jsx)(c.Z,{sx:{display:"flex"},children:(0,i.jsx)(x.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Input"})},1)];async function D(e,t,n){for(let i in t){let t=i in n;if(t){let t=(await C.uploadFile(e,i)).data.serving_url;e[i]=t}}}async function F(e){let n={...e},i=t.input_schema.properties,r=t.input_filetypes;v((0,o.Ir)({trace:""})),v((0,o.rA)({})),await D(n,i,r);let l=await C.startPrediction(n);y(l.data.prediction_id)}async function I(e){await F(e),l(!n),W()}(0,f.useQuery)("",()=>C.getPrediction(j),{enabled:n,refetchInterval:750,onSuccess:e=>{let t=e.data.status,n=e.data.logs;v((0,o.Ir)({trace:"".concat(null!=n?n:t,"\n")})),v((0,o.MG)({output:e.data,status:t})),"failure"==t&&(v((0,o.Ir)({trace:n})),l(!1),v((0,o.MG)({output:e.data,status:t}))),"success"==t&&(l(!1),v((0,o.MG)({output:e.data,status:t})))},onError:e=>{v({type:"ERROR",message:e.message})}});let W=()=>{let e=document.documentElement.scrollTop||document.body.scrollTop;e>window.innerHeight/4&&(window.requestAnimationFrame(W),window.scrollTo(0,e-e/8))};return(0,i.jsxs)(c.Z,{sx:{width:"45%"},children:[(0,i.jsx)(c.Z,{sx:{float:"left",marginTop:"0px",width:"100%"},children:(0,i.jsxs)(c.Z,{id:"demoinput body header",sx:{width:"100%"},children:[(0,i.jsx)(c.Z,{sx:{width:"60%",float:"left"},children:(0,i.jsx)(X,{menuOption:0,setMenuOption:()=>{},tabs:_})}),(0,i.jsx)(c.Z,{sx:{width:"30%",height:"40px",float:"right"},children:(0,i.jsx)(N.X,{sx:{marginTop:"20px",float:"right",display:"inline"},onChange:()=>{b(!Z)},label:"Show optional fields"})})]})}),(0,i.jsxs)("form",{onSubmit:E(I),style:{marginTop:"70px"},children:[(0,i.jsx)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:3.3},children:O.map(e=>e)}),(0,i.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"flex-end",mt:2,marginBottom:"20px"},children:[(0,i.jsx)(p.Z,{size:"medium",sx:{mx:.5},variant:"outlined",startIcon:(0,i.jsx)(d.Z,{sx:{marginTop:"-3px"}}),onClick:z,children:"Reset"}),(0,i.jsx)(p.Z,{size:"medium",sx:{marginLeft:.5},variant:"contained",startIcon:n?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(a.Z,{sx:{marginTop:"-3px"}}),disabled:n,type:"submit",children:n?(0,i.jsx)(u.Z,{size:26,sx:{color:"white"}}):"Run"})]})]})]})},$=n(93946),ee=n(58703),et=n(89227);let en=e=>{let{output:t}=e,[n,r]=(0,h.useState)(!1),l=()=>{r(!0),navigator.clipboard.writeText(JSON.stringify(t))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)($.Z,{onClick:l,color:"primary",size:"large",sx:{float:"right",padding:"0px"},children:(0,i.jsx)(et.Z,{sx:{width:"30px",height:"30px"}})}),(0,i.jsx)(ee.Z,{message:"Copied to clibboard",anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:2e3,onClose:()=>r(!1),open:n})]})};var ei=n(76887),er=function(e){let{output:t}=e;return(0,i.jsx)(c.Z,{id:"postloadscreen",sx:{marginBottom:"10px"},children:(0,i.jsxs)(c.Z,{id:"postloadscreenchild",sx:{height:"450px",border:1,backgroundColor:"#E9E9E9",wordBreak:"break-all",whiteSpace:"pre-wrap",marginTop:"10px"},children:[(0,i.jsx)(en,{output:t}),(0,i.jsx)(ei.L,{getItemString:()=>(0,i.jsx)(i.Fragment,{}),data:t,theme:{tree:e=>{let{style:t}=e;return{style:{...t,backgroundColor:"#E9E9E9",width:"95%",paddingLeft:"15px",height:"430px"}}},base00:"#000000",base01:"#000000",base02:"#000000",base03:"#000000",base04:"#000000",base05:"#000000",base06:"#000000",base07:"#000000",base08:"#000000",base09:"#000000",base0A:"#000000",base0B:"#000000",base0C:"#000000",base0D:"#000000",base0E:"#000000",base0F:"#000000"}})]})})},el=function(){return(0,i.jsxs)(c.Z,{id:"preloadscreen",sx:{width:"100%",display:"column",textAlign:"center"},children:[(0,i.jsx)(c.Z,{component:"img",sx:{height:"20%",width:"25%",colorScheme:"black",marginTop:"100px",opacity:.6},alt:"tungsten_logo",src:"/tungsten_greyed_out_logo.png"}),(0,i.jsx)(x.Z,{fontSize:"18px",sx:{width:"100%",margin:"auto",marginTop:"50px",textAlign:"center",opacity:.5},children:"Please fill in the input fields to see the results"})]})},es=n(24038),eo={hljs:{display:"block",overflowX:"auto",padding:"0.5em",background:"#000",color:"#f8f8f8"},"hljs-comment":{color:"#7c7c7c"},"hljs-quote":{color:"#7c7c7c"},"hljs-meta":{color:"#7c7c7c"},"hljs-keyword":{color:"#96cbfe"},"hljs-selector-tag":{color:"#96cbfe"},"hljs-tag":{color:"#96cbfe"},"hljs-name":{color:"#96cbfe"},"hljs-attribute":{color:"#ffffb6"},"hljs-selector-id":{color:"#ffffb6"},"hljs-string":{color:"#a8ff60"},"hljs-selector-attr":{color:"#a8ff60"},"hljs-selector-pseudo":{color:"#a8ff60"},"hljs-addition":{color:"#a8ff60"},"hljs-subst":{color:"#daefa3"},"hljs-regexp":{color:"#e9c062"},"hljs-link":{color:"#e9c062"},"hljs-title":{color:"#ffffb6"},"hljs-section":{color:"#ffffb6"},"hljs-type":{color:"#ffffb6"},"hljs-doctag":{color:"#ffffb6"},"hljs-symbol":{color:"#c6c5fe"},"hljs-bullet":{color:"#c6c5fe"},"hljs-variable":{color:"#c6c5fe"},"hljs-template-variable":{color:"#c6c5fe"},"hljs-literal":{color:"#c6c5fe"},"hljs-number":{color:"#ff73fd"},"hljs-deletion":{color:"#ff73fd"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}},ea=function(e){let{trace:t}=e,n=(0,h.useRef)(null),r=()=>{n.current&&(n.current.scrollTop=n.current.scrollHeight)};return(0,h.useEffect)(()=>{r()}),(0,i.jsx)(c.Z,{sx:{height:"450px",overflow:"auto",backgroundColor:"black",marginTop:"10px"},ref:n,children:(0,i.jsx)(es.Z,{language:"plaintext",style:eo,customStyle:{padding:"2px",margin:"2px",fontSize:"16px",width:"98%",maxWidth:"98%"},wrapLines:!0,wrapLongLines:!0,lineProps:{style:{wordBreak:"break-all",whiteSpace:"pre-wrap"}},children:t})})},ed=function(e){let{header:t,content:n}=e;return(0,i.jsxs)(c.Z,{sx:{marginTop:"0px"},children:[(0,i.jsxs)(x.Z,{fontWeight:"10px",fontSize:"18px",children:[" ",t]}),(0,i.jsx)(x.Z,{fontFamily:"monospace",sx:{border:"0px solid black",wordBreak:"break-all",backgroundColor:"#e7e7e7",marginTop:"5px",padding:"5px",paddingLeft:"10px",fontSize:"14px"},children:n})]})};let ec=e=>(0,i.jsx)(c.Z,{sx:{marginBottom:"15px"},children:e});function ex(){let{output:e,status:t,trace:n}=(0,g.v9)(e=>e.singleModel),[r,l]=(0,h.useState)({}),o=s();(0,h.useEffect)(()=>{"success"==t&&eu(e,o).then(e=>{l(e)})},[]);let a=eh(r,t,n);return(0,i.jsx)(c.Z,{id:"mainContainerOutput",sx:{overflow:"auto",height:"fit-content"},children:(0,i.jsx)(c.Z,{sx:{marginBottom:"10px",width:"100%",height:"fit-content",overflowY:"auto"},children:a})})}let ep=e=>"string"==typeof e&&e.includes("http"),eu=async(e,t)=>{let n={},i=e.demo_output;for(let e in i){let r=i[e];if(ep(r)){let i=r.split("files")[1],l=await t.get("/files".concat(i),{responseType:"arraybuffer",headers:{}});n[e]=l}else n[e]=r}return n},eh=(e,t,n)=>{if("failure"==t)return(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(x.Z,{sx:{color:"#FF0000"},children:"Prediction failed. Log is shown below:"}),(0,i.jsx)(ea,{trace:n})]});let r=[];for(let t in e){let n=e[t];"object"==typeof n&&n.data?em(n,t,r):"object"!=typeof n?eZ(n,t,r):eb(n,t,r)}return r.map(e=>ec(e))},em=(e,t,n)=>{var i,r,l;(null===(i=null==e?void 0:e.headers["content-type"])||void 0===i?void 0:i.includes("image"))?ef(e,t,n):(null===(r=null==e?void 0:e.headers["content-type"])||void 0===r?void 0:r.includes("video"))?ej(e,t,n):(null===(l=null==e?void 0:e.headers["content-type"])||void 0===l?void 0:l.includes("audio"))&&ey(e,t,n)},ef=(e,t,n)=>{let i=ev(e),r=eg(i,t);n.unshift(r)},eg=(e,t)=>{let n=(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(x.Z,{fontSize:"18px",fontWeight:"10px",children:t}),(0,i.jsx)("img",{style:{maxWidth:"60%",border:"0px solid black"},src:e,alt:"new"})]});return n},ej=(e,t,n)=>{let r={autoplay:!1,controls:!0,responsive:!0,fluid:!0,sources:[{src:ev(e),type:e.headers["content-type"]}]},l=(0,i.jsx)(T,{options:r,title:t});n.unshift(l)},ey=(e,t,n)=>{let r=(0,i.jsx)(I,{url:ev(e),title:t,audioId:"".concat(t)});n.unshift(r)},eZ=(e,t,n)=>{let r=(0,i.jsx)(ed,{header:t,content:e});n.push(r)},eb=(e,t,n)=>{let r=JSON.stringify(e);n.push((0,i.jsx)(ed,{header:"".concat(t," (non-visualizable data)"),content:r}))},ev=e=>{let t=new Blob([e.data],{type:e.headers["content-type"]}),n=URL.createObjectURL(t);return n};var ew=n(53592),eC=function(e){let{setDoQuery:t}=e,n=(0,g.I0)(),l=s(),a=r(l),d=(0,g.v9)(e=>{var t;return null===(t=e.singleModel.output)||void 0===t?void 0:t.id});return(0,i.jsx)(p.Z,{size:"medium",sx:{my:.5},variant:"outlined",startIcon:(0,i.jsx)(ew.Z,{sx:{marginTop:"-3px"}}),onClick:async()=>{t(!1),await a.cancelPrediction(d),n((0,o.Zc)({status:"stopped"})),n((0,o.Ir)({trace:"initializing model prediction \n"}))},children:"Cancel"})},eS=function(e){let{trace:t,doQuery:n,setDoQuery:r}=e,l=(0,g.v9)(e=>e.singleModel.status);return"pending"==l?(0,i.jsxs)(c.Z,{children:[(0,i.jsxs)(c.Z,{sx:{display:"flex"},children:[(0,i.jsx)(u.Z,{size:20}),(0,i.jsx)(x.Z,{sx:{marginLeft:"10px",fontSize:"20px"},children:l.charAt(0).toUpperCase()+l.slice(1)})]}),n&&(0,i.jsx)(eC,{setDoQuery:r})]}):(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(c.Z,{children:(0,i.jsxs)(c.Z,{sx:{display:"flex"},children:[(0,i.jsx)(u.Z,{size:20}),(0,i.jsx)(x.Z,{sx:{marginLeft:"10px",fontSize:"20px"},children:l.charAt(0).toUpperCase()+l.slice(1)})]})}),(0,i.jsx)(ea,{trace:t.charAt(0).toUpperCase()+t.slice(1)}),n&&(0,i.jsx)(eC,{setDoQuery:r})]})};function eT(e){let{prop:t,id:n,requiredArray:r}=e;if(!t)return(0,i.jsx)(i.Fragment,{});{let e=[];return Object.keys(t).forEach((l,s)=>{let o;if("object"==typeof t[l]&&t[l]instanceof Blob){if(t[l].type.includes("image"))o=(0,i.jsxs)(c.Z,{sx:{marginTop:"0px"},children:[(0,i.jsx)(x.Z,{fontWeight:"10px",sx:{fontSize:"18px"},children:l}),(0,i.jsx)("img",{src:t[l].src,style:{maxWidth:"60%"},alt:"output image"},l)]},l);else if(t[l].type.includes("video")){let e={autoplay:!1,controls:!0,responsive:!0,fluid:!0,sources:[{src:URL.createObjectURL(t[l]),type:t[l].type}]};o=(0,i.jsxs)(h.Fragment,{children:[(0,i.jsx)(T,{options:e,title:l}),";"]},l)}else t[l].type.includes("audio")&&(o=(0,i.jsx)(h.Fragment,{children:(0,i.jsx)(I,{url:URL.createObjectURL(t[l]),title:l,audioId:"".concat(l).concat(n)})},l))}else o=(0,i.jsx)(c.Z,{sx:{marginTop:"0px",overflow:"hidden"},children:(0,i.jsx)(ed,{header:l,content:JSON.stringify(t[l])})},l);r.includes(l)?e.unshift(o):e.push(o)}),(0,i.jsx)(i.Fragment,{children:e.map(e=>ec(e))})}}let ek=[(0,i.jsx)(c.Z,{sx:{display:"flex"},children:(0,i.jsx)(x.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Output"})},1),(0,i.jsx)(c.Z,{sx:{display:"flex"},children:(0,i.jsx)(x.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Json"})},2),(0,i.jsx)(c.Z,{sx:{display:"flex"},children:(0,i.jsx)(x.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Logs"})},3)];var eE=function(e){let{id:t}=e,[n,r]=(0,h.useState)(0),{demo_output:l,logs:s,demo_output_processed:o}=(0,g.v9)(e=>e.singleModel.example),a=(0,i.jsx)(er,{output:l}),d=(0,i.jsx)(ea,{trace:s});return(0,i.jsxs)(c.Z,{id:"exampleOutput",sx:{marginTop:"0px",display:"grid"},children:[(0,i.jsx)(c.Z,{sx:{width:"60%",float:"left",marginTop:"0px",gridColumn:0,marginBottom:"20px"},children:(0,i.jsx)(X,{menuOption:n,setMenuOption:r,tabs:ek})}),(0,i.jsx)(c.Z,{sx:{marginTop:"0px",gridColumn:1},children:0==n?(0,i.jsx)(eT,{prop:o,requiredArray:[],id:t}):1==n?a:d})]})},ez=function(e){let{output:t}=e;return(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(x.Z,{sx:{color:"#FF0000"},children:"Prediction failed. Log is shown below:"}),(0,i.jsx)(ea,{trace:t.logs})]})},eL=function(e){let{doQuery:t,setDoQuery:n}=e,[r,l]=(0,h.useState)(0),{status:s,example:o,output:a,trace:d}=(0,g.v9)(e=>e.singleModel),x=o.output?(0,i.jsx)(eE,{id:o.id}):(0,i.jsx)(el,{}),p=(0,i.jsx)(eS,{trace:d,doQuery:t,setDoQuery:n}),u=(0,i.jsx)(er,{output:null==a?void 0:a.demo_output}),m=(0,i.jsx)(ex,{}),f=(0,i.jsx)(ez,{output:a}),j=(0,i.jsx)(ea,{trace:d}),y=(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(c.Z,{sx:{width:"60%",marginBottom:"30px"},children:(0,i.jsx)(X,{menuOption:r,setMenuOption:l,tabs:eR})}),0==r?m:1==r?u:j]});return(0,i.jsx)(c.Z,{id:"modelbodydemooutput",sx:{width:"50%",marginLeft:"5%",marginTop:"0%"},children:(()=>{switch(s){case"success":return y;case"failure":return f;case"running":case"pending":return p;default:return x}})()})};let eR=[(0,i.jsx)(c.Z,{sx:{display:"flex"},children:(0,i.jsx)(x.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Output"})},1),(0,i.jsx)(c.Z,{sx:{display:"flex"},children:(0,i.jsx)(x.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Json"})},2),(0,i.jsx)(c.Z,{sx:{display:"flex"},children:(0,i.jsx)(x.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:"Logs"})},3)];var eO=n(27924),e_=n(62851),eD=n(99985);function eF(e){let t,n=0;if(!e)return"#000000";for(t=0;t<e.length;t+=1)n=e.charCodeAt(t)+((n<<5)-n);let i="#";for(t=0;t<3;t+=1){let e=n>>8*t&255;i+="00".concat(e.toString(16)).slice(-2)}return i}function eI(e){let{model:t,appbarIndex:n,setAppbarIndex:r}=e,l=eW(t);return(0,i.jsx)(c.Z,{sx:{display:"flex",flexDirection:"column",backgroundColor:"white",border:"1px solid #E1E2E6",minWidth:"900px"},children:(0,i.jsx)(c.Z,{sx:{display:"flex",mx:"4%",minWidth:"800px"},children:(0,i.jsxs)(c.Z,{style:{width:"100%",marginTop:"2%",display:"inline"},children:[(0,i.jsxs)(c.Z,{sx:{display:"flex"},children:[(0,i.jsx)(eD.q,{color:eF(t.name),radius:"0",styles:{placeholder:{float:"left",backgroundColor:eF(t.name),color:"white"}},size:"100px",src:t.avatar_url}),(0,i.jsxs)(c.Z,{style:{marginLeft:"20px",height:"75px",display:"inline"},children:[(0,i.jsx)(c.Z,{style:{height:"fit-content",width:"100%",position:"relative",float:"left"},children:(0,i.jsx)(x.Z,{sx:{float:"left"},variant:"h5",children:t.name})}),(0,i.jsx)(c.Z,{style:{width:"100%",height:"fit-content",float:"left",marginTop:"0px"},children:(0,i.jsx)(x.Z,{sx:{float:"left",color:"#677285",fontSize:"18px"},children:t.description})})]})]}),(0,i.jsx)(c.Z,{sx:{width:"40%",marginTop:"15px"},children:(0,i.jsx)(X,{tabs:l,menuOption:n,setMenuOption:r})})]})})})}let eW=e=>{let t=(0,i.jsx)(e_.Z,{sx:{marginTop:"-3px",fontSize:"20px"}}),n=(0,i.jsx)(eO.Z,{sx:{marginTop:"-3px",fontSize:"18px"}}),r=[eM("demo",t)];return e.readme&&r.push(eM("readme",n)),r},eM=(e,t)=>(0,i.jsxs)(c.Z,{sx:{display:"flex"},children:[t,(0,i.jsx)(x.Z,{variant:"mainTextSmall",sx:{marginLeft:"5px"},children:e})]});var eP=n(67720),eB=n(18377),eq=n(92441),eQ=n(72490),eU=n(16323),eA=function(e){let{readme:t}=e,n=[eQ.Z];return(0,i.jsx)(eB.Z,{children:(0,i.jsxs)(eB.Z,{sx:{border:"1px solid #D3D3D3",width:"90%",borderRadius:"10px",marginBottom:"20px",paddingRight:"30px",paddingLeft:"30px",paddingTop:"15px",mx:"4%",marginTop:"35px"},children:[(0,i.jsxs)(eB.Z,{sx:{display:"inline"},children:[(0,i.jsx)(eU.Z,{sx:{display:"inline",marginLeft:"0px",marginBottom:"-7px",fontSize:"26px"}}),(0,i.jsx)(x.Z,{sx:{width:"50%",display:"inline",marginLeft:"10px"},fontSize:18,children:"README.md"})]}),(0,i.jsx)(eP.Z,{sx:{marginBottom:"20px",marginTop:"10px"}}),(0,i.jsx)(eq.D,{remarkPlugins:n,components:{img:e=>{let{node:t,...n}=e;return(0,i.jsx)("img",{style:{maxWidth:"300px"},...n})}},children:t})]})})},eN=function(){let[e,t]=(0,h.useState)(!1),[n,r]=(0,h.useState)({}),[l,o]=(0,h.useState)(0),a=s(),d=[(0,i.jsx)(c.Z,{sx:{marginTop:"20px",mx:"4%",minWidth:"0px"},children:(0,i.jsxs)(c.Z,{id:"modelbodydemo",sx:{display:"flex",width:"100%"},children:[(0,i.jsx)(K,{model:n,doQuery:e,setDoQuery:t}),(0,i.jsx)(eL,{doQuery:e,setDoQuery:t})]})},1)];return n.readme&&d.push((0,i.jsx)(eA,{readme:n.readme},1)),(0,h.useEffect)(()=>{let e=async()=>{var e;let t=null===(e=await a.get("/metadata").catch(()=>{}))||void 0===e?void 0:e.data;t&&r(t)};e()},[]),(0,i.jsxs)(c.Z,{id:"main header",sx:{backgroundColor:"white",minHeight:"100vh"},children:[(0,i.jsx)(eI,{model:n,appbarIndex:l,setAppbarIndex:o}),d[l]]})}},25893:function(){}},function(e){e.O(0,[544,934,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);